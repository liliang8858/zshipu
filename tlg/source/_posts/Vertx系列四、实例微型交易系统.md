title: Vertx系列四、实例微型交易系统
author: 知识铺
date: 2020-04-13 20:09:38
tags:
---
## 微交易者应用程序

现在，我们更多地了解了 Vert.x 和微服务，是时候讨论我们将在本实验中开发的应用程序了。

这将是一个假的金融应用程序，我们将在那里赚钱（虚拟）的钱。该应用程序由一组微服务组成：

*   报价生成器 - 这是一个绝对不现实的模拟器，生成报价3虚构的公司_MacroHard, Divinator, and Black Coat。市场数据在 Vert.x 事件总线上发布。

*   交易者 - 这些是一组组件，从报价生成器接收报价，并决定是否买入或卖出特定股票。为了做出这个决定，他们依赖于另一个称为_组合_服务组件。

*   投资组合 - 这项服务管理我们投资组合中的股票数量及其货币价值。它作为_服务代理_公开，即 Vert.x 事件总线顶部的异步 RPC 服务。对于每个成功操作，它都会在事件总线上发送一条消息，描述该操作。它使用报价生成器来评估投资组合的当前价值。

*   审计 - 这是法律方面，你知道...我们需要保留一份我们所有操作的列表日志。审核组件通过事件总线和地址从项目组合服务接收操作。然后，它将这些存储在数据库中。它还提供 REST 终结点来检索最新的操作集。

*   仪表板 - 一些 UI，让我们知道当我们变得富有。

让我们来看看体系结构：

 
![知识铺-pasted-355.png](https:\/\/blog.zshipu.com/tlg/images/pasted-355.png)

应用程序使用多种类型的服务：

*   HTTP 终结点 （_即_REST API） - 此服务使用 HTTP URL 定位。

*   服务代理 - 这些是使用 RPC 交互机制在事件总线上公开的异步服务，服务使用（事件总线）地址定位。

*   消息源 - 这些是在事件总线上发布消息的组件，服务使用（事件总线）地址定位。

这些组件在同一网络中运行（在本实验中，它们将位于同一台计算机上，但在不同的进程中）。

仪表板显示可用服务、每个公司报价的价值、交易者的最新操作集以及我们投资组合的当前状态。它还显示不同断路器的状态。

 
![知识铺-pasted-356.png](https:\/\/blog.zshipu.com/tlg/images/pasted-356.png)

我们将实现此应用程序的关键部分。但是，提供代码的其余部分是为了说明一些其他的 Vert.x 功能。需要我们编写的代码使用**TODO**指示，包装如下：

 ```
 //TODO
// ----
// your code here
// ----
```

